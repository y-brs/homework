<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form validation</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div class="box">
    <form action="#" id="form">
      <label>
        <input type="password" id="password" placeholder="Enter Password">
        <div class="toggle"></div>
      </label>

      <label class="email">
        <input type="email" id="email" placeholder="Enter email">
      </label>
      <span id="text"></span>

    </form>
  </div>

  <script>
    const password = document.getElementById("password"),
          toggle = document.querySelector(".toggle");

    toggle.addEventListener("click", toggleHandler);

    function toggleHandler() {
      if (password.type === "password") {
        password.setAttribute("type", "text");
        toggle.classList.add("hide");
      } else {
        password.setAttribute("type", "password");
        toggle.classList.remove("hide");
      }
    }

    function validation() {
      const form = document.getElementById("form"),
            email = document.getElementById("email").value,
            text = document.getElementById("text"),
            pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

      if (email.match(pattern)) {
        form.classList.add("valid");
        form.classList.remove("invalid");
        text.innerHTML = "Your email adress is Valid"
      } else {
        form.classList.add("invalid");
        form.classList.remove("valid");
        text.innerHTML = "Your email adress is Invalid"
      }
    }

    email.addEventListener("keydown", validation);

  </script>
</body>
</html>
